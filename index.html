<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>🏆 收入成就系統</title>

<!-- PapaParse：讀取 Google Sheet CSV -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>

<h1>🏆 收入成就系統</h1>

<!-- 新增資料區 -->
<div class="add-box">
  <h3>✨ 打開新的專案冒險</h3>

  <div class="add-row">
    <input id="fDate" type="date">
    <input id="fProject" type="text" placeholder="專案名稱">
    <input id="fTotal" type="number" placeholder="總費用(簽約)">
    <input id="fIncome" type="number" placeholder="實收(扣勞健保)">
  </div>

  <button onclick="addNewData()" class="add-btn">補充金庫 💰</button>
</div>

<!-- 搜尋列 -->
<div class="search-bar">
  <input type="text" id="searchInput" placeholder="搜尋關鍵字…">
  <select id="statusFilter">
    <option value="all">所有狀態</option>
    <option value="paid">已收清</option>
    <option value="unpaid">有未收</option>
    <option value="deposit">訂金已付</option>
  </select>
</div>

<!-- Summary -->
<div class="summary achievement-panel">

  <!-- 進帳成就 -->
  <div class="achievement-card">
    <div class="ac-title">💰 進帳總成就</div>
    <div id="sumIncome" class="ac-value">—</div>
    <div class="ac-sub">累積全部已收款項</div>
  </div>

  <!-- 未收任務 -->
  <div class="achievement-card">
    <div class="ac-title">📦 未收任務</div>
    <div id="sumUnpaid" class="ac-value">—</div>
    <div class="ac-sub">還在排隊的任務們</div>
  </div>

  <!-- 完成率進度條 -->
  <div class="achievement-card">
    <div class="ac-title">🎯 任務完成率</div>

    <div class="progress-bar">
      <div id="percentDoneFill" class="progress-fill"></div>
    </div>

    <div id="percentDoneText" class="ac-progress-text">0%</div>
    <div class="ac-sub">已完成的收款任務比例</div>
  </div>

</div>


<!-- 表格 -->
<div id="tableArea" class="table-wrapper">
  <table>
    <thead id="tableHead"></thead>
    <tbody id="tableBody"></tbody>
  </table>
</div>

<!-- 手機卡片 -->
<div id="cardArea"></div>

<div id="loading" class="loading-backdrop" style="display:none;">
  <div class="loading-box">豆子超慢跑搬資料中…</div>
</div>


<script src="assets/js/main.js"></script>
</body>
</html>
